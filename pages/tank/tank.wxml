<view class="container">
  <!-- ç»Ÿè®¡é¢æ¿ -->
  <view class="stats-panel">
    <view class="stat-item">
      <text class="stat-value">{{totalFish}}</text>
      <text class="stat-label">æ€»é±¼æ•°</text>
    </view>
    <view class="stat-item">
      <text class="stat-value">{{totalPets}}</text>
      <text class="stat-label">æ€»æ‘¸é±¼æ•°</text>
    </view>
    <view class="stat-item">
      <text class="stat-value">{{topPets}}</text>
      <text class="stat-label">æœ€å—æ¬¢è¿</text>
    </view>
  </view>

  <!-- é±¼åˆ—è¡¨ -->
  <scroll-view class="fish-list" scroll-y enhanced show-scrollbar="{{false}}">
    <view class="fish-card" wx:for="{{fishList}}" wx:key="id">
      <view class="rank-badge rank-{{index < 3 ? index + 1 : 'normal'}}">
        <text>{{index < 3 ? medals[index] : index + 1}}</text>
      </view>
      
      <!-- é±¼çš„é¢„è§ˆ -->
      <view class="fish-preview">
        <image wx:if="{{item.imageUrl}}" class="preview-image" src="{{item.imageUrl}}" mode="aspectFit" />
        <canvas wx:else type="2d" id="fish-{{index}}" class="preview-canvas" style="width:100rpx;height:70rpx;"></canvas>
      </view>

      <view class="fish-info">
        <view class="fish-name">{{item.name || 'æ— åå°é±¼'}}</view>
        <view class="fish-meta">
          <text class="fish-time">{{item.timeText}}</text>
        </view>
      </view>

      <view class="fish-score" style="color:{{item.petCount >= 10 ? '#2ecc71' : item.petCount >= 3 ? '#f39c12' : '#999'}}">
        <text class="score-num">{{item.petCount || 0}}</text>
        <text class="score-unit">æ¬¡</text>
      </view>

      <!-- åˆ é™¤æŒ‰é’® -->
      <view class="delete-btn" bindtap="deleteFish" data-index="{{index}}">
        <text>Ã—</text>
      </view>
    </view>

    <view class="empty-state" wx:if="{{fishList.length === 0}}">
      <text class="empty-icon">ğŸŸ</text>
      <text class="empty-text">é±¼ç¼¸é‡Œè¿˜æ²¡æœ‰é±¼</text>
      <text class="empty-hint">å»ç”»ä¸€æ¡å§ï¼</text>
    </view>

    <view class="list-footer" wx:if="{{fishList.length > 0}}">
      <text>å…± {{totalFish}} æ¡é±¼</text>
    </view>
  </scroll-view>

  <!-- åº•éƒ¨æ“ä½œ -->
  <view class="bottom-actions">
    <view class="btn-back" bindtap="goBack">
      <text>ğŸ  å›åˆ°é±¼ç¼¸</text>
    </view>
    <view class="btn-draw" bindtap="goToDraw">
      <text>âœï¸ å†ç”»ä¸€æ¡</text>
    </view>
  </view>
</view>

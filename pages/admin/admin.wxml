<view class="container">
  <!-- å¯†ç éªŒè¯ -->
  <view class="auth-panel" wx:if="{{!authed}}">
    <view class="auth-title">ç®¡ç†å‘˜éªŒè¯</view>
    <input class="auth-input" type="text" password placeholder="è¯·è¾“å…¥ç®¡ç†å¯†ç " value="{{password}}" bindinput="onPwdInput" bindconfirm="doAuth" />
    <view class="auth-btn" bindtap="doAuth">ç¡®è®¤</view>
  </view>

  <!-- ç®¡ç†é¢æ¿ -->
  <block wx:if="{{authed}}">
    <view class="stat-bar">
      <text class="stat-text">å…± {{total}} æ¡é±¼</text>
    </view>

    <scroll-view scroll-y class="fish-list" bindscrolltolower="loadMore">
      <view class="fish-card" wx:for="{{fishList}}" wx:key="fishId">
        <view class="fish-left">
          <image wx:if="{{item.imageUrl}}" class="fish-thumb" src="{{baseUrl}}{{item.imageUrl}}" mode="aspectFit" />
          <view wx:else class="fish-thumb fish-thumb-placeholder">ğŸŸ</view>
        </view>
        <view class="fish-info">
          <view class="fish-title">
            <text class="fish-no" wx:if="{{item.fishNo}}">NO.{{item.fishNo}}</text>
            <text class="fish-name">{{item.name}}</text>
          </view>
          <view class="fish-meta">
            <text wx:if="{{item.author}}">by {{item.author}} Â· </text>
            <text>{{item.score}}åˆ† Â· è¢«æ‘¸{{item.petCount}}æ¬¡</text>
          </view>
        </view>
        <view class="fish-del" catchtap="deleteFish" data-id="{{item.fishId}}" data-name="{{item.name}}">
          åˆ é™¤
        </view>
      </view>

      <view class="load-more" wx:if="{{hasMore}}">
        <text>ä¸Šæ‹‰åŠ è½½æ›´å¤š</text>
      </view>
      <view class="load-more" wx:if="{{!hasMore && fishList.length > 0}}">
        <text>æ²¡æœ‰æ›´å¤šäº†</text>
      </view>
    </scroll-view>
  </block>
</view>

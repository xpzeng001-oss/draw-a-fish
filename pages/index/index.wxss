.container {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  background: linear-gradient(180deg,
    #0a1628 0%,
    #0d2847 15%,
    #134b7a 40%,
    #1a6da8 65%,
    #2089c9 85%,
    #1a6da8 100%
  );
}

/* 水面光效 */
.water-surface {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;
}

.light-ray {
  position: absolute;
  top: -20%;
  width: 3rpx;
  height: 60%;
  background: linear-gradient(180deg, rgba(255,255,255,0.15) 0%, transparent 100%);
  transform: rotate(15deg);
  animation: lightSway 6s ease-in-out infinite alternate;
}

@keyframes lightSway {
  0% { transform: rotate(10deg) translateX(-20rpx); opacity: 0.3; }
  100% { transform: rotate(20deg) translateX(20rpx); opacity: 0.6; }
}

/* 鱼缸 Canvas */
.tank-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 3;
}

/* 气泡 */
.bubble-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.bubble {
  position: absolute;
  bottom: -20rpx;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.4) 0%, rgba(255,255,255,0.1) 50%, transparent 100%);
  border: 1rpx solid rgba(255,255,255,0.2);
  animation: bubbleRise linear infinite;
}

@keyframes bubbleRise {
  0% { bottom: -5%; opacity: 0; transform: translateX(0) scale(0.5); }
  10% { opacity: 0.8; }
  90% { opacity: 0.6; }
  100% { bottom: 105%; opacity: 0; transform: translateX(30rpx) scale(1.2); }
}

/* 底部沙地 */
.sand-bottom {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 120rpx;
  background: linear-gradient(180deg, transparent 0%, rgba(194,154,88,0.3) 40%, rgba(194,154,88,0.5) 100%);
  z-index: 1;
}

.seaweed-group {
  position: absolute;
  bottom: 0;
  display: flex;
  align-items: flex-end;
}

.seaweed-leaf {
  border-radius: 40rpx 40rpx 4rpx 4rpx;
  transform-origin: bottom center;
  animation: seaweedSway ease-in-out infinite alternate;
}

.seaweed-leaf.thin {
  width: 10rpx;
  background: linear-gradient(180deg, #58d68d 0%, #2ecc71 40%, #1a9c56 100%);
  opacity: 0.8;
}

.seaweed-leaf.mid {
  width: 16rpx;
  background: linear-gradient(180deg, #45b87a 0%, #27ae60 40%, #1e8449 100%);
  opacity: 0.9;
}

.seaweed-leaf.wide {
  width: 22rpx;
  background: linear-gradient(180deg, #2ecc71 0%, #1fa855 40%, #196f3d 100%);
}

@keyframes seaweedSway {
  0% { transform: rotate(-10deg); }
  100% { transform: rotate(10deg); }
}

/* 鱼数量 */
.top-bar {
  position: absolute;
  left: 24rpx;
  right: 24rpx;
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.fish-count {
  background: rgba(0,0,0,0.3);
  padding: 10rpx 30rpx;
  border-radius: 30rpx;
  backdrop-filter: blur(10px);
}

.count-text {
  font-size: 24rpx;
  color: rgba(255,255,255,0.85);
  letter-spacing: 2rpx;
}

.btn-theme {
  width: 64rpx;
  height: 64rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.3);
  border-radius: 50%;
  backdrop-filter: blur(10px);
}

.btn-theme text {
  font-size: 32rpx;
}

/* 底部操作栏 */
.bottom-bar {
  position: absolute;
  bottom: 60rpx;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 30rpx;
  z-index: 10;
}

.btn-draw, .btn-gallery {
  display: flex;
  flex-direction: row;
  align-items: center;
  justify-content: center;
  padding: 0 36rpx;
  height: 80rpx;
  border-radius: 40rpx;
  backdrop-filter: blur(20px);
  transition: all 0.2s;
  white-space: nowrap;
}

.btn-draw {
  background: linear-gradient(135deg, rgba(52,152,219,0.7) 0%, rgba(41,128,185,0.9) 100%);
  border: 2rpx solid rgba(255,255,255,0.3);
  box-shadow: 0 8rpx 32rpx rgba(0,0,0,0.3);
}

.btn-gallery {
  background: linear-gradient(135deg, rgba(243,156,18,0.7) 0%, rgba(230,126,34,0.9) 100%);
  border: 2rpx solid rgba(255,255,255,0.3);
  box-shadow: 0 8rpx 32rpx rgba(0,0,0,0.3);
}

.btn-draw:active, .btn-gallery:active {
  transform: scale(0.95);
  opacity: 0.9;
}

.btn-icon {
  font-size: 36rpx;
  margin-right: 10rpx;
}

.btn-icon-flip {
  display: inline-block;
  transform: scaleX(-1);
}

.btn-text {
  font-size: 24rpx;
  color: #fff;
  font-weight: 600;
  letter-spacing: 2rpx;
}

/* 鱼信息弹窗 */
.fish-info-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.fish-info-card {
  position: relative;
  width: 560rpx;
  background: #fff;
  border-radius: 32rpx;
  padding: 60rpx 40rpx 50rpx;
  text-align: center;
  animation: popIn 0.3s ease-out;
}

@keyframes popIn {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.fish-info-close {
  position: absolute;
  top: 20rpx;
  right: 28rpx;
  font-size: 36rpx;
  color: #bbb;
  width: 56rpx;
  height: 56rpx;
  display: flex;
  align-items: center;
  justify-content: center;
}

.fish-info-image {
  width: 240rpx;
  height: 180rpx;
  margin-bottom: 16rpx;
  border-radius: 16rpx;
}

.fish-info-no {
  font-size: 26rpx;
  font-weight: 700;
  color: #3498db;
  letter-spacing: 2rpx;
  margin-bottom: 8rpx;
}

.fish-info-name {
  font-size: 44rpx;
  font-weight: 700;
  color: #333;
  margin-bottom: 16rpx;
}

.fish-info-author {
  font-size: 26rpx;
  color: #999;
  margin-bottom: 16rpx;
}

.fish-info-score {
  font-size: 56rpx;
  font-weight: 800;
  color: #3498db;
  margin-bottom: 12rpx;
}

.fish-info-time {
  font-size: 26rpx;
  color: #999;
  margin-bottom: 20rpx;
}

.fish-info-pet-count {
  font-size: 30rpx;
  color: #666;
  margin-bottom: 36rpx;
}

.fish-info-btn {
  height: 84rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 42rpx;
  font-size: 32rpx;
  font-weight: 600;
  color: #fff;
  background: linear-gradient(135deg, #3498db, #2980b9);
  box-shadow: 0 4rpx 16rpx rgba(52,152,219,0.3);
}

.fish-info-btn:active {
  opacity: 0.9;
  transform: scale(0.97);
}

.fish-info-btn.disabled {
  background: #ccc;
  box-shadow: none;
  color: #fff;
}

/* 分享卡片 */
.share-overlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(8,30,52,0.65);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 200;
  backdrop-filter: blur(6px);
  animation: overlayFadeIn 0.3s ease-out;
}

@keyframes overlayFadeIn {
  0% { opacity: 0; }
  100% { opacity: 1; }
}

.share-card {
  position: relative;
  width: 650rpx;
  animation: sharePopIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes sharePopIn {
  0% { transform: scale(0.5) translateY(200rpx); opacity: 0; }
  60% { transform: scale(1.03) translateY(-10rpx); opacity: 1; }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

.share-close {
  position: absolute;
  top: -70rpx; right: 0;
  font-size: 40rpx;
  color: rgba(255,255,255,0.6);
  width: 60rpx; height: 60rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 5;
}

.share-card-inner {
  background: linear-gradient(170deg, #e8f4f8 0%, #f0f9ff 35%, #fafeff 65%, #f0f7fb 100%);
  border-radius: 28rpx;
  padding: 80rpx 44rpx 40rpx;
  text-align: center;
  position: relative;
  overflow: hidden;
  box-shadow: 0 20rpx 60rpx rgba(0,40,80,0.12);
}

/* 装饰波浪 */
.share-wave {
  position: absolute;
  left: -10%;
  width: 120%;
  height: 120rpx;
  border-radius: 50%;
  pointer-events: none;
}

.share-wave-1 {
  top: -80rpx;
  background: rgba(116,185,255,0.1);
}

.share-wave-2 {
  top: -50rpx;
  background: rgba(116,185,255,0.06);
}

.share-fish-wrap {
  width: 420rpx;
  height: 280rpx;
  margin: 0 auto 0;
  display: flex;
  align-items: center;
  justify-content: center;
}

.share-fish-img {
  width: 100%;
  height: 100%;
}

.share-fish-name {
  font-size: 28rpx;
  font-weight: 600;
  color: #6a9ab8;
  margin-bottom: 24rpx;
  letter-spacing: 4rpx;
}

.share-quote {
  font-size: 36rpx;
  font-weight: 700;
  color: #1a3a5c;
  line-height: 1.8;
  letter-spacing: 3rpx;
  margin-bottom: 20rpx;
  padding: 0 20rpx;
}

.share-switch-btn {
  position: absolute;
  top: 24rpx;
  right: 24rpx;
  font-size: 26rpx;
  font-weight: 600;
  color: #4a9cc0;
  border: 2rpx solid rgba(74,156,192,0.5);
  border-radius: 28rpx;
  padding: 10rpx 28rpx;
  z-index: 5;
  background: rgba(116,185,255,0.08);
  letter-spacing: 2rpx;
}

.share-subtitle {
  display: inline-block;
  font-size: 24rpx;
  font-weight: 600;
  color: #fff;
  letter-spacing: 3rpx;
  background: linear-gradient(135deg, #74b9ff, #48dbfb);
  padding: 10rpx 36rpx;
  border-radius: 24rpx;
  margin-bottom: 32rpx;
}

.share-qr-wrap {
  display: flex;
  justify-content: center;
  padding-top: 20rpx;
  border-top: 1rpx solid rgba(116,185,255,0.1);
}

.share-qrcode {
  width: 180rpx;
  height: 180rpx;
  border-radius: 16rpx;
}

/* 浅色主题 */
.theme-light {
  background: linear-gradient(180deg,
    #87CEEB 0%,
    #98D8EF 15%,
    #B0E2F5 40%,
    #C8ECF9 65%,
    #D6F1FC 85%,
    #C8ECF9 100%
  );
}

.theme-light .sand-bottom {
  background: linear-gradient(0deg, #f0d9a0 0%, #e8cc8a 60%, transparent 100%);
}

.theme-light .fish-count {
  background: rgba(255,255,255,0.6);
}

.theme-light .count-text {
  color: rgba(0,0,0,0.7);
}

.theme-light .btn-theme {
  background: rgba(255,255,255,0.6);
}

.theme-light .bottom-bar {
  background: transparent;
  border-top: none;
  box-shadow: none;
}

.theme-light .btn-draw,
.theme-light .btn-gallery {
  background: rgba(255,255,255,0.75);
  border: 1rpx solid rgba(255,255,255,0.9);
  box-shadow: 0 4rpx 16rpx rgba(0,0,0,0.08);
}

.theme-light .btn-text {
  color: #445;
}

/* 放生动画 */
.release-fish {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 240rpx;
  height: 160rpx;
  margin-left: -120rpx;
  margin-top: -80rpx;
  z-index: 50;
  animation: fishDrop 1s cubic-bezier(0.22, 0.61, 0.36, 1) forwards;
  pointer-events: none;
}

.release-fish-img {
  width: 100%;
  height: 100%;
}

@keyframes fishDrop {
  0% {
    transform: translateY(-500rpx) scale(1.3) rotate(-5deg);
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  65% {
    transform: translateY(0) scale(1) rotate(0deg);
    opacity: 1;
  }
  80% {
    transform: translateY(20rpx) scale(0.9) rotate(2deg);
    opacity: 0.8;
  }
  100% {
    transform: translateY(60rpx) scale(0.5) rotate(5deg);
    opacity: 0;
  }
}

/* 水波纹 */
.release-ripple {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 60rpx;
  height: 30rpx;
  margin-left: -30rpx;
  margin-top: -15rpx;
  border-radius: 50%;
  border: 3rpx solid rgba(255,255,255,0.6);
  z-index: 45;
  opacity: 0;
  pointer-events: none;
}

.release-ripple-1 { animation: rippleOut 1.5s 0.6s ease-out forwards; }
.release-ripple-2 { animation: rippleOut 1.5s 0.8s ease-out forwards; }
.release-ripple-3 { animation: rippleOut 1.5s 1.0s ease-out forwards; }

@keyframes rippleOut {
  0% { transform: scale(1); opacity: 0.7; }
  100% { transform: scale(10, 5); opacity: 0; }
}

/* 浅色主题波纹 */
.theme-light .release-ripple {
  border-color: rgba(52,152,219,0.5);
}

/* 放生气泡 */
.release-bubble {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.7), rgba(255,255,255,0.15));
  z-index: 55;
  opacity: 0;
  pointer-events: none;
}

.release-bubble-1 { width: 22rpx; height: 22rpx; left: 44%; top: 50%; animation: relBubbleUp 1.8s 0.7s ease-out forwards; }
.release-bubble-2 { width: 14rpx; height: 14rpx; left: 54%; top: 48%; animation: relBubbleUp 1.5s 0.9s ease-out forwards; }
.release-bubble-3 { width: 18rpx; height: 18rpx; left: 48%; top: 52%; animation: relBubbleUp 2s 0.8s ease-out forwards; }
.release-bubble-4 { width: 12rpx; height: 12rpx; left: 40%; top: 49%; animation: relBubbleUp 1.4s 1.0s ease-out forwards; }
.release-bubble-5 { width: 20rpx; height: 20rpx; left: 56%; top: 51%; animation: relBubbleUp 1.7s 1.1s ease-out forwards; }
.release-bubble-6 { width: 10rpx; height: 10rpx; left: 50%; top: 47%; animation: relBubbleUp 1.3s 1.2s ease-out forwards; }

@keyframes relBubbleUp {
  0% { transform: translateY(0) scale(0.3); opacity: 0; }
  15% { opacity: 0.8; transform: translateY(-20rpx) scale(1); }
  100% { transform: translateY(-400rpx) translateX(20rpx) scale(0.2); opacity: 0; }
}

/* 浅色主题气泡 */
.theme-light .release-bubble {
  background: radial-gradient(circle at 30% 30%, rgba(52,152,219,0.4), rgba(52,152,219,0.1));
}

/* 放生文字 */
.release-text {
  position: absolute;
  top: 62%;
  left: 0;
  width: 100%;
  text-align: center;
  font-size: 32rpx;
  font-weight: 600;
  color: #fff;
  letter-spacing: 2rpx;
  text-shadow: 0 2rpx 16rpx rgba(0,0,0,0.5);
  z-index: 60;
  opacity: 0;
  pointer-events: none;
  animation: releaseTextFade 2.5s 0.8s ease-out forwards;
}

@keyframes releaseTextFade {
  0% { opacity: 0; transform: translateY(20rpx); }
  20% { opacity: 1; transform: translateY(0); }
  80% { opacity: 1; }
  100% { opacity: 0; }
}

/* 浅色主题文字 */
.theme-light .release-text {
  color: #1a5276;
  text-shadow: 0 2rpx 12rpx rgba(255,255,255,0.8);
}

<view class="container">
  <!-- æ°´é¢å…‰æ•ˆ -->
  <view class="water-surface">
    <view class="light-ray" wx:for="{{5}}" wx:key="*this" style="left:{{item * 20 + 5}}%; animation-delay:{{item * 0.6}}s;"></view>
  </view>

  <!-- é±¼ç¼¸ Canvas -->
  <canvas type="2d" id="tankCanvas" class="tank-canvas" bindtouchstart="onTankTap"></canvas>

  <!-- æ°”æ³¡è£…é¥° -->
  <view class="bubble-container">
    <view class="bubble" wx:for="{{bubbles}}" wx:key="id"
      style="left:{{item.x}}%; width:{{item.size}}rpx; height:{{item.size}}rpx; animation-duration:{{item.duration}}s; animation-delay:{{item.delay}}s;">
    </view>
  </view>

  <!-- åº•éƒ¨æ²™åœ° -->
  <view class="sand-bottom">
    <view class="seaweed" wx:for="{{6}}" wx:key="*this" 
      style="left:{{item * 16 + 5}}%; height:{{60 + item * 15}}rpx; animation-delay:{{item * 0.4}}s;">
    </view>
  </view>

  <!-- é±¼æ•°é‡ç»Ÿè®¡ -->
  <view class="fish-count">
    <text class="count-text">ğŸ  {{fishCount}} æ¡é±¼åœ¨æ¸¸æ³³</text>
  </view>

  <!-- é±¼ä¿¡æ¯å¼¹çª— -->
  <view class="fish-info-overlay" wx:if="{{showFishInfo}}" bindtap="closeFishInfo">
    <view class="fish-info-card" catchtap="">
      <view class="fish-info-close" bindtap="closeFishInfo">âœ•</view>
      <view class="fish-info-name">{{selectedFish.name}}</view>
      <view class="fish-info-score">{{selectedFish.score}} åˆ†</view>
      <view class="fish-info-time">{{selectedFish.timeText}} åŠ å…¥é±¼ç¼¸</view>
      <view class="fish-info-pet-count">è¢«æ‘¸äº† {{selectedFish.petCount}} æ¬¡</view>
      <view class="fish-info-btn {{hasPettedSelected ? 'disabled' : ''}}" bindtap="petSelectedFish">
        {{hasPettedSelected ? 'å·²æ‘¸è¿‡ âœ“' : 'æ‘¸ä¸€ä¸‹ ğŸŸ'}}
      </view>
    </view>
  </view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="bottom-bar">
    <view class="btn-draw" bindtap="goToDraw">
      <view class="btn-icon">âœï¸</view>
      <text class="btn-text">ç”»ä¸€æ¡é±¼</text>
    </view>
    <view class="btn-gallery" bindtap="goToTank">
      <view class="btn-icon">ğŸ†</view>
      <text class="btn-text">æ’è¡Œæ¦œ</text>
    </view>
  </view>
</view>
